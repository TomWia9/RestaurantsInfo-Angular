<h3 class="mb-3 text-center">Sign up to the Restaurants Info</h3>
<form [formGroup]="form" (ngSubmit)="onRegister()">
  <mdb-form-control class="mt-2 mb-5">
    <input
      mdbInput
      [mdbValidate]="true"
      formControlName="firstName"
      type="text"
      id="firstName"
      class="form-control"
    />
    <label mdbLabel class="form-label" for="firstName">First name</label>
    <span
      *ngIf="form.get('firstName').invalid && form.get('firstName').touched"
    >
      <mdb-error *ngIf="form.get('firstName').hasError('required')"
        >First name is required!</mdb-error
      >
      <mdb-error *ngIf="form.get('firstName').hasError('minlength')"
        >First name must have minimum 1 character!</mdb-error
      >
      <mdb-error *ngIf="form.get('firstName').hasError('maxlength')"
        >First name must have maximum 30 characters!</mdb-error
      >
    </span>
  </mdb-form-control>
  <mdb-form-control class="my-5">
    <input
      mdbInput
      [mdbValidate]="true"
      formControlName="lastName"
      type="text"
      id="lastName"
      class="form-control"
    />
    <label mdbLabel class="form-label" for="lastName">Last name</label>
    <span *ngIf="form.get('lastName').invalid && form.get('lastName').touched">
      <mdb-error *ngIf="form.get('lastName').hasError('required')"
        >Last name is required!</mdb-error
      >
      <mdb-error *ngIf="form.get('lastName').hasError('minlength')"
        >Last name must have minimum 1 character!</mdb-error
      >
      <mdb-error *ngIf="form.get('lastName').hasError('maxlength')"
        >Last name must have maximum 30 characters!</mdb-error
      >
    </span>
  </mdb-form-control>
  <mdb-form-control class="my-5">
    <input
      mdbInput
      [mdbValidate]="true"
      formControlName="email"
      type="email"
      id="email"
      class="form-control"
    />
    <label mdbLabel class="form-label" for="email">E-mail</label>
    <span *ngIf="form.get('email').invalid && form.get('email').touched">
      <mdb-error *ngIf="form.get('email').hasError('required')"
        >E-mail is required!</mdb-error
      >
      <mdb-error *ngIf="form.get('email').hasError('email')"
        >E-mail is invalid!</mdb-error
      >
      <mdb-error *ngIf="form.get('email').hasError('maxlength')"
        >Email must have maximum 256 characters!</mdb-error
      >
    </span>
  </mdb-form-control>
  <div formGroupName="passwords">
    <mdb-form-control class="my-5">
      <input
        mdbInput
        [mdbValidate]="true"
        formControlName="password"
        type="password"
        id="password"
        class="form-control"
      />
      <label mdbLabel class="form-label" for="password">Password</label>
      <span
        *ngIf="
          form.get('passwords.password').invalid &&
          form.get('passwords.password').touched
        "
      >
        <mdb-error *ngIf="form.get('passwords.password').hasError('required')"
          >Password is required!</mdb-error
        >
        <mdb-error *ngIf="form.get('passwords.password').hasError('minlength')"
          >Password must have minimum 8 characters!</mdb-error
        >
        <mdb-error *ngIf="form.get('passwords.password').hasError('maxlength')"
          >Password must have maximum 64 characters!</mdb-error
        >
      </span>
    </mdb-form-control>
    <mdb-form-control class="my-5">
      <input
        mdbInput
        [mdbValidate]="true"
        formControlName="confirmPassword"
        type="password"
        id="confirmPassword"
        class="form-control"
      />
      <label mdbLabel class="form-label" for="confirmPassword"
        >Confirm password</label
      >
      <span
        *ngIf="
          form.get('passwords.confirmPassword').invalid &&
          form.get('passwords.confirmPassword').touched
        "
      >
        <mdb-error
          *ngIf="form.get('passwords.confirmPassword').hasError('required')"
          >Password confirmation is required!</mdb-error
        >
        <mdb-error
          *ngIf="form.get('passwords.confirmPassword').hasError('minlength')"
          >Password confirmation must have minimum 8 characters!</mdb-error
        >
        <mdb-error
          *ngIf="form.get('passwords.confirmPassword').hasError('maxlength')"
          >Password confirmation must have maximum 64 characters!</mdb-error
        >
      </span>
      <mdb-error
        *ngIf="
          form.get('passwords').hasError('notSame') &&
          form.get('passwords.confirmPassword').touched
        "
        >Passwords doesn't match!</mdb-error
      >
    </mdb-form-control>
  </div>

  <div class="d-flex justify-content-between my-5">
    <button class="btn btn-success" type="submit" [disabled]="!form.valid">
      Sign Up
    </button>
    <div class="d-flex align-items-center">
      <p class="m-0">Do you have an account?</p>
      <a class="btn btn-primary ms-2" type="button" routerLink="/auth/login">
        Sign In
      </a>
    </div>
  </div>
</form>
<div class="alert alert-danger" role="alert" *ngIf="errorMessage">
  {{ errorMessage }}
</div>
